<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.proyectoprogra.controllers.Admin.GestionAdminController"
            stylesheets="@../css/admin.css">

    <VBox spacing="15" 
          AnchorPane.topAnchor="0" 
          AnchorPane.leftAnchor="0" 
          AnchorPane.rightAnchor="0" 
          AnchorPane.bottomAnchor="0"
          style="-fx-padding: 20;">

        <!-- Título -->
        <Label text="Gestión de Usuarios"
               style="-fx-font-size: 22px; -fx-font-weight: bold;" />

        <!-- Contenedor principal con tabla y formulario -->
        <HBox spacing="20" VBox.vgrow="ALWAYS">

            <!-- Tabla de usuarios -->
            <TableView fx:id="tablaUsuarios"
                       prefWidth="550" 
                       HBox.hgrow="ALWAYS">

                <columns>

                    <TableColumn fx:id="colId" text="ID"
                                 prefWidth="80" />

                    <TableColumn fx:id="colNombre" text="Nombre"
                                 prefWidth="120" />

                    <TableColumn fx:id="colApellido" text="Apellido"
                                 prefWidth="120" />

                    <TableColumn fx:id="colCorreo" text="Correo"
                                 prefWidth="160" />

                    <TableColumn fx:id="colRol" text="Rol"
                                 prefWidth="80" />

                </columns>

            </TableView>

            <!-- Panel de formulario CRUD -->
            <VBox spacing="12"
                  prefWidth="280"
                  style="-fx-background-color: #F5F5F5; -fx-padding: 15; -fx-border-color: #CCC; -fx-border-radius: 5; -fx-background-radius: 5;">

                <children>

                    <Label text="Formulario Usuario" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

                    <!-- Campos -->
                    <TextField fx:id="txtNombre" promptText="Nombre" />
                    <TextField fx:id="txtApellido" promptText="Apellido" />
                    <TextField fx:id="txtCorreo" promptText="Correo" />

                    <ComboBox fx:id="comboRol" promptText="Rol">
                        <items>
                            <FXCollections fx:factory="observableArrayList">
                                <String fx:value="Cliente" />
                            </FXCollections>
                        </items>
                    </ComboBox>

                    <!-- Botones CRUD -->
                    <HBox spacing="10">
                        <Button fx:id="btnAgregar"
                                text="Agregar"
                                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;"
                                onAction="#agregarUsuario" />
                        <Button fx:id="btnActualizar"
                                text="Actualizar"
                                style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-weight: bold;"
                                onAction="#actualizarUsuario" />
                    </HBox>

                    <Button fx:id="btnEliminar"
                            text="Eliminar"
                            style="-fx-background-color: #F44336; -fx-text-fill: white; -fx-font-weight: bold;"
                            onAction="#eliminarUsuario" />

                    <Button fx:id="btnLimpiar"
                            text="Limpiar Formulario"
                            style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-font-weight: bold;"
                            onAction="#limpiarCampos" />
                </children>

            </VBox>

        </HBox>

    </VBox>

</AnchorPane>
